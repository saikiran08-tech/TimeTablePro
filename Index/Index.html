<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>TimeTablePro</title>

<!-- Bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body{
    font-family:Segoe UI,sans-serif;
    background:#f5f3ef;
}
.section{display:none;}
.brand span{color:#8b5e34;}
.btn-brown{
    background:#8b5e34;
    color:white;
    border:none;
}
.btn-brown:hover{background:#734c2f;}
.hero{
    background:linear-gradient(135deg,#ede3d5,#faf6ef);
    padding:90px 20px;
    text-align:center;
}
.hero span{color:#8b5e34;}
.role-card{
    background:#f1e6d8;
    border-radius:18px;
    padding:40px;
    cursor:pointer;
    transition:.3s;
}
.role-card:hover{
    transform:translateY(-8px);
    box-shadow:0 10px 25px rgba(0,0,0,.1);
}
.login-box{
    max-width:360px;
    margin:90px auto;
}
.dashboard{
    display:flex;
    min-height:100vh;
}
.sidebar{
    width:240px;
    background:#3e2c1c;
    color:white;
    padding:20px;
}
.sidebar h5{color:#d7b899;}
.sidebar a{
    display:block;
    color:#e6d3b8;
    padding:10px;
    border-radius:8px;
    text-decoration:none;
    margin-bottom:6px;
}
.sidebar a.active,
.sidebar a:hover{
    background:#8b5e34;
    color:white;
}
.main{
    flex:1;
    padding:30px;
}
.card{border-radius:15px;}
table{background:white;}
</style>
</head>

<body>

<!-- HOME -->
<section class="hero section" id="home" style="display:block">
<h1 class="fw-bold">Welcome to <span>TimeTablePro</span></h1>
<p class="mt-3">Smart timetable management system for colleges</p>
<button class="btn btn-brown px-4 py-2 mt-3" onclick="openRole()">Get Started</button>
</section>

<!-- ROLE -->
<section class="container text-center my-5 section" id="role">
<h2 class="fw-bold mb-4">Login As</h2>
<div class="row justify-content-center g-4">
<div class="col-md-4">
<div class="role-card" onclick="openStudentLogin()">
<h4>üéì Student</h4>
<p class="text-muted">View timetable</p>
</div>
</div>
<div class="col-md-4">
<div class="role-card" onclick="openAdminLogin()">
<h4>üßë‚Äçüíº Admin</h4>
<p class="text-muted">Generate timetable</p>
</div>
</div>
</div>
</section>

<!-- STUDENT LOGIN -->
<div class="login-box section" id="studentLogin">
<div class="card p-4 shadow">
<h4 class="text-center mb-3">Student Login</h4>
<input class="form-control mb-3" placeholder="Student ID">
<input type="password" class="form-control mb-3" placeholder="Password">
<button class="btn btn-brown w-100" onclick="openStudentDash()">Login</button>
<button class="btn btn-link w-100" onclick="openRole()">Back</button>
</div>
</div>

<!-- ADMIN LOGIN -->
<div class="login-box section" id="adminLogin">
<div class="card p-4 shadow">
<h4 class="text-center mb-3">Admin Login</h4>
<input class="form-control mb-3" placeholder="Username">
<input type="password" class="form-control mb-3" placeholder="Password">
<button class="btn btn-brown w-100" onclick="openAdminDash()">Login</button>
<button class="btn btn-link w-100" onclick="openRole()">Back</button>
</div>
</div>

<!-- ADMIN DASHBOARD -->
<div class="dashboard section" id="adminDash">
<div class="sidebar">
<h5 class="brand">TimeTable<span>Pro</span></h5>
<a class="active">Dashboard</a>
<a onclick="logout()">Logout</a>
</div>

<div class="main">
<h3>Welcome, Admin</h3>
<p class="text-muted">Generate and manage timetables</p>

<div class="card p-4">
<h5>Generate Timetable</h5>
<div class="row g-3 mt-2">
<input id="dept" class="form-control col" placeholder="Department">
<input id="sem" class="form-control col" placeholder="Semester">
<input id="day" class="form-control col" placeholder="Day">
<input id="time" class="form-control col" placeholder="Time Slot">
<input id="subject" class="form-control col" placeholder="Subject">
<input id="faculty" class="form-control col" placeholder="Faculty">
</div>
<button class="btn btn-brown mt-3" onclick="addEntry()">Add Entry</button>
<button class="btn btn-secondary mt-3" onclick="resetTable()">Reset</button>
</div>

<table class="table table-bordered mt-4">
<thead class="table-dark">
<tr>
<th>Dept</th><th>Sem</th><th>Day</th><th>Time</th>
<th>Subject</th><th>Faculty</th><th>Action</th>
</tr>
</thead>
<tbody id="adminTable"></tbody>
</table>
</div>
</div>

<!-- STUDENT DASHBOARD -->
<div class="dashboard section" id="studentDash">
<div class="sidebar">
<h5 class="brand">TimeTable<span>Pro</span></h5>
<a class="active">Dashboard</a>
<a onclick="logout()">Logout</a>
</div>

<div class="main">
<h3>Welcome, Student</h3>
<p class="text-muted">View your timetable</p>

<div class="row mt-3">
<div class="col-md-6">
<select id="sDept" class="form-select">
<option value="">Select Department</option>
<option>MCA</option>
<option>MBA</option>
<option>MSc Psychology</option>
<option>MA Economics</option>
</select>
</div>
<div class="col-md-6">
<select id="sSem" class="form-select">
<option value="">Select Semester</option>
<option>1</option>
<option>2</option>
<option>3</option>
<option>4</option>
</select>
</div>
</div>

<button class="btn btn-brown mt-3" onclick="viewTimetable()">View Timetable</button>

<table class="table table-bordered mt-4">
<thead class="table-dark">
<tr><th>Day</th><th>Time</th><th>Subject</th><th>Faculty</th></tr>
</thead>
<tbody id="studentTable"></tbody>
</table>

<button class="btn btn-success" onclick="window.print()">Print / Download</button>
</div>
</div>

<script>
let timetable=[];

function hideAll(){
document.querySelectorAll(".section").forEach(s=>s.style.display="none");
}
function openRole(){hideAll();role.style.display="block";}
function openStudentLogin(){hideAll();studentLogin.style.display="block";}
function openAdminLogin(){hideAll();adminLogin.style.display="block";}
function openAdminDash(){hideAll();adminDash.style.display="flex";}
function openStudentDash(){hideAll();studentDash.style.display="flex";}
function logout(){hideAll();home.style.display="block";}

function addEntry(){
timetable.push({
dept:dept.value,
sem:sem.value,
day:day.value,
time:time.value,
subject:subject.value,
faculty:faculty.value
});
renderAdmin();
}
function renderAdmin(){
adminTable.innerHTML="";
timetable.forEach((t,i)=>{
adminTable.innerHTML+=`
<tr>
<td>${t.dept}</td>
<td>${t.sem}</td>
<td>${t.day}</td>
<td>${t.time}</td>
<td>${t.subject}</td>
<td>${t.faculty}</td>
<td><button class="btn btn-sm btn-danger" onclick="del(${i})">Delete</button></td>
</tr>`;
});
}
function del(i){timetable.splice(i,1);renderAdmin();}
function resetTable(){timetable=[];renderAdmin();}

function viewTimetable(){
studentTable.innerHTML="";
timetable.forEach(t=>{
if(t.dept===sDept.value && t.sem===sSem.value){
studentTable.innerHTML+=`
<tr>
<td>${t.day}</td>
<td>${t.time}</td>
<td>${t.subject}</td>
<td>${t.faculty}</td>
</tr>`;
}});
}
</script>

</body>
</html>
