<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>TimeTablePro</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body{font-family:Segoe UI,sans-serif;background:#f5f3ef}
.section{display:none}
.btn-brown{background:#8b5e34;color:#fff;border:none}
.btn-brown:hover{background:#734c2f}
.hero{background:linear-gradient(135deg,#ede3d5,#faf6ef);padding:90px 20px;text-align:center}
.hero span{color:#8b5e34}
.role-card{background:#f1e6d8;border-radius:18px;padding:40px;cursor:pointer;transition:.3s}
.role-card:hover{transform:translateY(-8px);box-shadow:0 10px 25px rgba(0,0,0,.1)}
.login-box{max-width:360px;margin:90px auto}
.dashboard{display:none;min-height:100vh}
.sidebar{width:240px;background:#3e2c1c;color:white;padding:20px}
.sidebar h5{color:#d7b899}
.sidebar a{display:block;color:#e6d3b8;padding:10px;border-radius:8px;text-decoration:none;margin-bottom:6px}
.sidebar a.active,.sidebar a:hover{background:#8b5e34;color:white}
.main{flex:1;padding:30px}
.card{border-radius:15px}
table{background:white}

/* Notification */
.bell{position:relative;font-size:22px;cursor:pointer}
.bell::after{
content:'';
width:10px;height:10px;
background:red;border-radius:50%;
position:absolute;top:0;right:0;display:none
}
.bell.active::after{display:block}

.notify-box{
position:absolute;
right:0;
top:35px;
background:white;
width:260px;
border-radius:10px;
box-shadow:0 5px 15px rgba(0,0,0,.2);
padding:10px;
display:none;
z-index:1000;
}
.notify-box p{
margin:0;
padding:8px;
border-bottom:1px solid #eee;
font-size:14px;
}
.notify-box p:last-child{border-bottom:none}
</style>
</head>

<body>

<!-- HOME -->
<section class="hero section" id="home" style="display:block">
<h1 class="fw-bold">Welcome to <span>TimeTablePro</span></h1>
<p>Smart timetable management system</p>
<button class="btn btn-brown mt-3" onclick="openRole()">Get Started</button>
</section>

<!-- ROLE -->
<section class="container text-center my-5 section" id="role">
<h3 class="fw-bold mb-4">Login As</h3>
<div class="row justify-content-center g-4">
<div class="col-md-4">
<div class="role-card" onclick="openStudentLogin()">üéì Student</div>
</div>
<div class="col-md-4">
<div class="role-card" onclick="openAdminLogin()">üßë‚Äçüíº Admin</div>
</div>
</div>
</section>

<!-- STUDENT LOGIN -->
<div class="login-box section" id="studentLogin">
<div class="card p-4 shadow">
<h4 class="text-center">Student Login</h4>
<input id="studentUser" class="form-control mt-3" placeholder="Student ID">
<input id="studentPass" type="password" class="form-control mt-3" placeholder="Password">
<button class="btn btn-brown w-100 mt-3" onclick="login('student')">Login</button>
<p id="studentMsg" class="text-center mt-3 fw-semibold"></p>
<button class="btn btn-link w-100" onclick="openRole()">Back</button>
</div>
</div>

<!-- ADMIN LOGIN -->
<div class="login-box section" id="adminLogin">
<div class="card p-4 shadow">
<h4 class="text-center">Admin Login</h4>
<input id="adminUser" class="form-control mt-3" placeholder="Username">
<input id="adminPass" type="password" class="form-control mt-3" placeholder="Password">
<button class="btn btn-brown w-100 mt-3" onclick="login('admin')">Login</button>
<p id="adminMsg" class="text-center mt-3 fw-semibold"></p>
<button class="btn btn-link w-100" onclick="openRole()">Back</button>
</div>
</div>

<!-- ADMIN DASHBOARD -->
<div class="dashboard" id="adminDash">
<div class="sidebar">
<h5>TimeTable<span style="color:#d7b899">Pro</span></h5>
<a class="active">Dashboard</a>
<a onclick="logout()">Logout</a>
</div>

<div class="main">
<h3>Admin Dashboard</h3>

<div class="card p-3">
<div class="row g-2">
<div class="col-md-4"><input id="dept" class="form-control" placeholder="Department"></div>
<div class="col-md-4"><input id="sem" class="form-control" placeholder="Semester"></div>
<div class="col-md-4"><input id="day" class="form-control" placeholder="Day"></div>
<div class="col-md-4"><input id="time" class="form-control" placeholder="Time Slot"></div>
<div class="col-md-4"><input id="subject" class="form-control" placeholder="Subject"></div>
<div class="col-md-4"><input id="faculty" class="form-control" placeholder="Faculty"></div>
</div>

<div class="mt-3">
<button class="btn btn-brown" onclick="addEntry('added')">Add</button>
<button class="btn btn-secondary" onclick="resetTable()">Reset</button>
</div>
</div>

<table class="table table-bordered mt-4">
<thead class="table-dark">
<tr><th>Dept</th><th>Sem</th><th>Day</th><th>Time</th><th>Subject</th><th>Faculty</th><th>Action</th></tr>
</thead>
<tbody id="adminTable"></tbody>
</table>
</div>
</div>

<!-- STUDENT DASHBOARD -->
<div class="dashboard" id="studentDash">
<div class="sidebar">
<h5>TimeTable<span style="color:#d7b899">Pro</span></h5>
<a class="active">Dashboard</a>
<a onclick="logout()">Logout</a>
</div>

<div class="main position-relative">
<div class="d-flex justify-content-between align-items-center">
<h3>Student Dashboard</h3>
<div class="position-relative">
<span class="bell" id="bell" onclick="toggleNotify()">üîî</span>
<div class="notify-box" id="notifyBox"></div>
</div>
</div>

<div class="row mt-3">
<div class="col-md-6">
<select id="sDept" class="form-select">
<option value="">Select Department</option>
<option>MCA</option>
<option>MBA</option>
<option>MSc Psychology</option>
<option>MA Economics</option>
</select>
</div>
<div class="col-md-6">
<select id="sSem" class="form-select">
<option value="">Select Semester</option>
<option>1</option><option>2</option><option>3</option><option>4</option>
</select>
</div>
</div>

<button class="btn btn-brown mt-3" onclick="viewTimetable()">View Timetable</button>

<table class="table table-bordered mt-4">
<thead class="table-dark">
<tr><th>Day</th><th>Time</th><th>Subject</th><th>Faculty</th></tr>
</thead>
<tbody id="studentTable"></tbody>
</table>
</div>
</div>

<script>
let timetable=[];
let notifications=[];

/* Navigation */
function hideAll(){
document.querySelectorAll(".section").forEach(s=>s.style.display="none");
adminDash.style.display="none";
studentDash.style.display="none";
}
function openRole(){hideAll();role.style.display="block"}
function openStudentLogin(){hideAll();studentLogin.style.display="block"}
function openAdminLogin(){hideAll();adminLogin.style.display="block"}
function logout(){hideAll();home.style.display="block"}

/* Login */
function login(type){
let user,pass,msg;
if(type==="admin"){user=adminUser.value;pass=adminPass.value;msg=adminMsg}
else{user=studentUser.value;pass=studentPass.value;msg=studentMsg}

if(user===""||pass===""){
msg.innerHTML="<span class='text-danger'>Please enter credentials</span>";
return;
}
msg.innerHTML=`<span class="spinner-border spinner-border-sm"></span> Verifying credentials...`;

setTimeout(()=>{
msg.innerHTML="<span class='text-success'>‚úî Login Successful</span>";
setTimeout(()=>{
msg.innerHTML="";
hideAll();
type==="admin"?adminDash.style.display="flex":studentDash.style.display="flex";
},800);
},1200);
}

/* Admin logic */
function addEntry(action){
timetable.push({dept:dept.value,sem:sem.value,day:day.value,time:time.value,subject:subject.value,faculty:faculty.value});
notifications.push("Timetable updated by Admin");
bell.classList.add("active");
renderAdmin();
}
function resetTable(){
timetable=[];
notifications.push("Timetable reset by Admin");
bell.classList.add("active");
renderAdmin();
}
function renderAdmin(){
adminTable.innerHTML="";
timetable.forEach((t,i)=>{
adminTable.innerHTML+=`
<tr>
<td>${t.dept}</td><td>${t.sem}</td><td>${t.day}</td>
<td>${t.time}</td><td>${t.subject}</td><td>${t.faculty}</td>
<td><button class="btn btn-sm btn-danger" onclick="del(${i})">Delete</button></td>
</tr>`;
});
}
function del(i){
timetable.splice(i,1);
notifications.push("Timetable entry removed");
bell.classList.add("active");
renderAdmin();
}

/* Student logic */
function viewTimetable(){
studentTable.innerHTML="";
timetable.forEach(t=>{
if(t.dept===sDept.value && t.sem===sSem.value){
studentTable.innerHTML+=`
<tr><td>${t.day}</td><td>${t.time}</td><td>${t.subject}</td><td>${t.faculty}</td></tr>`;
}});
notifications=[];
bell.classList.remove("active");
notifyBox.style.display="none";
}

/* Notification popup */
function toggleNotify(){
notifyBox.innerHTML="";
if(notifications.length===0){
notifyBox.innerHTML="<p>No new notifications</p>";
}else{
notifications.forEach(n=>{
notifyBox.innerHTML+=`<p>${n}</p>`;
});
}
notifyBox.style.display = notifyBox.style.display==="block" ? "none" : "block";
}
</script>

</body>
</html>
